<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <comment>This is the speed new monsters are spawned at, and the player score.</comment>
        <variable constant="0" name="Score" sid="9430221669105701" static="0" type="number">0</variable>
        <comment>Start monsters at a random angle.</comment>
        <event-block collapsed="1" sid="2016806224835871">
            <conditions>
                <condition id="-2" name="On start of layout" sid="4633396582611706" type="System" />
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="6927086697077377" type="GameOverText">
                    <param id="0" name="Visibility">0</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="3501928810760359">
                    <conditions>
                        <condition id="-10" name="For" sid="1762746707116191" type="System">
                            <param id="0" name="Name">&quot;woodCount&quot;</param>
                            <param id="1" name="Start index">1</param>
                            <param id="2" name="End index">10</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Spawn another object" sid="3149768265140643" type="firewood">
                            <param id="0" name="Object">firewood</param>
                            <param id="1" name="Layer">&quot;Background&quot;</param>
                            <param id="2" name="Image point">0</param>
                        </action>
                        <action id="-8" name="Set angle" sid="9117528681451567" type="firewood">
                            <param id="0" name="Angle">random(0,360)</param>
                        </action>
                        <action id="-3" name="Set position" sid="470620685759117" type="firewood">
                            <param id="0" name="X">random(0,LayoutWidth)</param>
                            <param id="1" name="Y">random(0,LayoutHeight)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-block>
        <event-group description="" sid="4939230196463606" title="Player controls">
            <sub-events>
                <comment>Always look the player towards the mouse, and update the status text.</comment>
                <event-block sid="5933056411808581">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="9893711515753111" type="System" />
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="8707283659962972" type="Status">
                            <param id="0" name="Text">&quot;Score: &quot; &amp; Score &amp; &quot; Fire: &quot; &amp; CampFire.power &amp; &quot; - FPS: &quot; &amp; fps &amp; newline &amp; &quot;Use arrow keys to move&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="9445426713988271">
                    <conditions>
                        <condition id="2" name="Is in touch" sid="9903541263969406" type="Touch" />
                    </conditions>
                    <actions>
                        <action id="-23" name="Move at angle" sid="8903834655165826" type="Player">
                            <param id="0" name="Angle">angle(Player.X, Player.Y, Touch.X, Touch.Y)</param>
                            <param id="1" name="Distance">300 * dt</param>
                        </action>
                        <action id="-22" name="Set angle toward position" sid="2980547501569765" type="Player">
                            <param id="0" name="X">Touch.X</param>
                            <param id="1" name="Y">Touch.Y</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="118646985458437">
                            <conditions>
                                <condition id="4" name="Is touching object" sid="726913994095737" type="Touch">
                                    <param id="0" name="Object">GameOverText</param>
                                </condition>
                                <condition id="-8" name="Compare two values" sid="9602626894317266" type="System">
                                    <param id="0" name="First value">CampFire.Count</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Second value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="4839879999534651" type="System">
                                    <param id="0" name="Variable">Score</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-2" name="Go to layout" sid="9257522300786043" type="System">
                                    <param id="0" name="Layout">Layout 1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="9986743214981356" title="Player interaction">
            <sub-events>
                <event-block sid="7232025729484607">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="7911843152568621" type="Player">
                            <param id="0" name="Object">firewood</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="9371887111465753" type="firewood" />
                        <action id="-11" name="Add to" sid="1342389928707647" type="Player">
                            <param id="0" name="Instance variable">wood</param>
                            <param id="1" name="Value">1</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="7775520856246349">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="1245352042944207" type="Player">
                            <param id="0" name="Object">CampFire</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Set value" sid="7167713840561844" type="Player">
                            <param id="0" name="Instance variable">freeze</param>
                            <param id="1" name="Value">0</param>
                        </action>
                        <action id="-5" name="Set width" sid="7498932449987445" type="freezeStatus">
                            <param id="0" name="Width">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="1990071186740493">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="4411440702627846" type="Player">
                                    <param id="0" name="Instance variable">wood</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Fade" id="0" name="Restart fade" sid="5193098528470776" type="CampFire" />
                                <action id="-11" name="Add to" sid="8305177778359514" type="Player">
                                    <param id="0" name="Instance variable">wood</param>
                                    <param id="1" name="Value">-1</param>
                                </action>
                                <action id="-10" name="Add to" sid="393286595370788" type="System">
                                    <param id="0" name="Variable">Score</param>
                                    <param id="1" name="Value">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="9654433311886671" type="CampFire">
                                    <param id="0" name="Instance variable">power</param>
                                    <param id="1" name="Value">20</param>
                                </action>
                                <action id="-5" name="Set width" sid="6414329833763609" type="fireStatus">
                                    <param id="0" name="Width">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-block sid="1238229792633858">
            <conditions>
                <condition behavior="Fade" id="0" name="On fade out finished" sid="3191540269146869" type="CampFire" />
            </conditions>
            <actions>
                <action id="-15" name="Set visible" sid="7949229855495077" type="GameOverText">
                    <param id="0" name="Visibility">1</param>
                </action>
            </actions>
        </event-block>
        <event-block collapsed="1" sid="9166315253767041">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="3078012040381353" type="System">
                    <param id="0" name="Interval (seconds)">1.0</param>
                </condition>
            </conditions>
            <actions>
                <action id="-11" name="Add to" sid="9513134698113411" type="CampFire">
                    <param id="0" name="Instance variable">power</param>
                    <param id="1" name="Value">-1</param>
                </action>
                <action id="-5" name="Set width" sid="395180026861966" type="fireStatus">
                    <param id="0" name="Width">140 - CampFire.power * 7</param>
                </action>
            </actions>
            <sub-events>
                <event-block sid="5436432485031942">
                    <conditions>
                        <condition id="1" inverted="1" name="Is overlapping another object" sid="7300634048677421" type="Player">
                            <param id="0" name="Object">CampFire</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-11" name="Add to" sid="9188634245146499" type="Player">
                            <param id="0" name="Instance variable">freeze</param>
                            <param id="1" name="Value">1</param>
                        </action>
                        <action id="-5" name="Set width" sid="5861697978869906" type="freezeStatus">
                            <param id="0" name="Width">Player.freeze*14</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="8762838406463823">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="7369365015096753" type="Player">
                                    <param id="0" name="Instance variable">freeze</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">10</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="9646909347040273" type="CampFire" />
                                <action id="-15" name="Set visible" sid="7189500876418307" type="GameOverText">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-block>
    </events>
</c2eventsheet>
